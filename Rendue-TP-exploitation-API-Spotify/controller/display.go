package controller

import (
	InitApi "APIGO/api"
	InitTemp "APIGO/temps"
	"net/http"
)

func DisplaySdm(w http.ResponseWriter, r *http.Request) {
	InitApi.RequestApi("https://api.spotify.com/v1/tracks/0EzNyXyU7gHzj2TN8qYThj?market=FR")
	if len(InitApi.Rap1.Artists) == 0 { //Cas où ma structure n'a pas récupérer les données
		InitApi.ReloadApi() //Change de Token
		DisplaySdm(w, r)
		return
	}
	InitTemp.Temp.ExecuteTemplate(w, "displaySdm", InitApi.Rap1)

}

func DisplayJul(w http.ResponseWriter, r *http.Request) {
	InitApi.RequestApi("https://api.spotify.com/v1/artists/3IW7ScrzXmPvZhB27hmfgy/albums?market=FR")
	if len(InitApi.Rap2.Items) == 0 {
		InitApi.ReloadApi()
		DisplayJul(w, r)
		return
	}
	InitTemp.Temp.ExecuteTemplate(w, "displayJul", InitApi.Rap2)

}
